<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê≠©„Åø„Çµ„Éù„Éº„Éà - Â∏≥Á•®„Éó„É¨„Éì„É•„Éº„Å®Á∑®ÈõÜ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: #f5f7fa;
            color: #333;
            font-size: 18px;
            line-height: 1.7;
        }

        .header {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            color: #444;
            padding: 1rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .page-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #2c3e50;
            text-align: center;
        }

        .page-subtitle {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 2rem;
            text-align: center;
        }

        /* „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ */
        .tab-navigation {
            display: flex;
            background: white;
            border-radius: 15px;
            padding: 0.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .tab-button {
            flex: 1;
            background: none;
            border: none;
            padding: 1rem 1.5rem;
            font-size: 18px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #666;
        }

        .tab-button.active {
            background: #67b279;
            color: white;
            box-shadow: 0 2px 10px rgba(103, 178, 121, 0.3);
        }

        .tab-button:hover {
            background: #f0f4ff;
        }

        .tab-button.active:hover {
            background: #5a9f68;
        }

        /* „Çø„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Â∏≥Á•®„Éó„É¨„Éì„É•„Éº„Ç®„É™„Ç¢ */
        .document-preview {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .document-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .document-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
        }

        .edit-toggle {
            background: #67b279;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .edit-toggle:hover {
            background: #5a9f68;
            transform: translateY(-2px);
        }

        .edit-toggle.editing {
            background: #ff6b6b;
        }

        .edit-toggle.editing:hover {
            background: #ee5a52;
        }

        /* Â∏≥Á•®„Éï„Ç©„Éº„É† */
        .document-form {
            display: grid;
            gap: 2rem;
        }

        .form-section {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 5px solid #67b279;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 1rem;
            margin-bottom: 1rem;
            align-items: start;
        }

        .form-label {
            font-weight: 600;
            color: #555;
            padding: 0.8rem 0;
        }

        .form-field {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 0.8rem;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-field:focus {
            outline: none;
            border-color: #67b279;
            box-shadow: 0 0 0 3px rgba(103, 178, 121, 0.1);
        }

        .form-field[contenteditable="true"] {
            min-height: 2.5rem;
            border-color: #67b279;
            background: #f9fff9;
        }

        .form-field.readonly {
            background: #f5f5f5;
            color: #777;
            cursor: not-allowed;
        }

        textarea.form-field {
            min-height: 100px;
            resize: vertical;
        }

        /* „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ */
        .actions-bar {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .btn {
            background: #67b279;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 50px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn:hover {
            background: #5a9f68;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(103, 178, 121, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-success:hover {
            background: #218838;
        }

        /* Â§âÊõ¥ÈÄöÁü• */
        .changes-indicator {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #ffeaa7;
            color: #333;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transform: translateX(300px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .changes-indicator.show {
            transform: translateX(0);
        }

        /* „Éó„É¨„Éì„É•„Éº„É™„Çπ„Éà */
        .preview-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .preview-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .preview-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .preview-card.selected {
            border: 3px solid #67b279;
            background: #f9fff9;
        }

        .preview-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #2c3e50;
        }

        .preview-content {
            color: #666;
            font-size: 16px;
            line-height: 1.6;
        }

        .preview-status {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 1rem;
        }

        .status-draft {
            background: #fff3cd;
            color: #856404;
        }

        .status-editing {
            background: #d4edda;
            color: #155724;
        }

        .status-ready {
            background: #d1ecf1;
            color: #0c5460;
        }

        /* „É¨„Çπ„Éù„É≥„Ç∑„Éñ */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .tab-navigation {
                flex-direction: column;
                gap: 0.5rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .actions-bar {
                flex-direction: column;
            }

            .preview-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">üå∏ Ê≠©„Åø„Çµ„Éù„Éº„Éà</div>
            <div>
                <a href="/workflow" style="color: #444; text-decoration: none; font-weight: 500;">‚Üê Èù¢Ë´áË®òÈå≤‰ΩúÊàê„Å´Êàª„Çã</a>
            </div>
        </div>
    </header>

    <div class="container">
        <h1 class="page-title">üìã Â∏≥Á•®„Éó„É¨„Éì„É•„Éº„Å®Á∑®ÈõÜ</h1>
        <p class="page-subtitle">‰ΩúÊàê„Åï„Çå„ÅüÊõ∏È°û„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÄÅÂøÖË¶Å„Å™‰øÆÊ≠£„ÇíË°å„Åà„Åæ„Åô</p>

        <!-- „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
        <div class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('list')">üìã Â∏≥Á•®‰∏ÄË¶ß</button>
            <button class="tab-button" onclick="switchTab('individual')">üë§ ÂÄãÂà•ÊîØÊè¥Ë®àÁîªÊõ∏</button>
            <button class="tab-button" onclick="switchTab('monitoring')">üìä „É¢„Éã„Çø„É™„É≥„Ç∞Ë®òÈå≤</button>
            <button class="tab-button" onclick="switchTab('family')">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ÂÆ∂ÊóèÂ†±ÂëäÊõ∏</button>
        </div>

        <!-- Â§âÊõ¥ÈÄöÁü• -->
        <div class="changes-indicator" id="changesIndicator">
            üìù Â§âÊõ¥„Åå‰øùÂ≠ò„Åï„Çå„Å¶„ÅÑ„Åæ„Åõ„Çì
        </div>

        <!-- „Çø„Éñ1: Â∏≥Á•®‰∏ÄË¶ß -->
        <div class="tab-content active" id="tab-list">
            <div class="preview-list">
                <div class="preview-card selected" onclick="selectDocument('individual')" id="card-individual">
                    <div class="preview-title">üë§ ÂÄãÂà•ÊîØÊè¥Ë®àÁîªÊõ∏</div>
                    <div class="preview-content">
                        Âà©Áî®ËÄÖ„ÅÆÂü∫Êú¨ÊÉÖÂ†±„ÄÅÁèæÂú®„ÅÆÁä∂Ê≥Å„ÄÅÊîØÊè¥ÁõÆÊ®ô„ÄÅÂÖ∑‰ΩìÁöÑ„Å™ÊîØÊè¥ÂÜÖÂÆπ„ÇíË®òËºâ„Åó„ÅüÂü∫Êú¨„Å®„Å™„ÇãË®àÁîªÊõ∏„Åß„Åô„ÄÇ
                    </div>
                    <div class="preview-status status-ready">Á∑®ÈõÜÂèØËÉΩ</div>
                </div>

                <div class="preview-card" onclick="selectDocument('monitoring')" id="card-monitoring">
                    <div class="preview-title">üìä „É¢„Éã„Çø„É™„É≥„Ç∞Ë®òÈå≤</div>
                    <div class="preview-content">
                        ÊîØÊè¥ÁõÆÊ®ô„ÅÆÈÅîÊàêÁä∂Ê≥Å„ÄÅÈÄ≤Êçó„ÅÆË©ï‰æ°„ÄÅ‰ªäÂæå„ÅÆË™≤È°å„Å®ÂØæÂøúÊñπÈáù„ÇíË®òÈå≤„Åó„Åæ„Åô„ÄÇ
                    </div>
                    <div class="preview-status status-ready">Á∑®ÈõÜÂèØËÉΩ</div>
                </div>

                <div class="preview-card" onclick="selectDocument('family')" id="card-family">
                    <div class="preview-title">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ÂÆ∂ÊóèÂ†±ÂëäÊõ∏</div>
                    <div class="preview-content">
                        „ÅîÂÆ∂ÊóèÂêë„Åë„Å´„ÄÅÂà©Áî®ËÄÖ„ÅÆÊßòÂ≠ê„ÇÑÊàêÈï∑„ÄÅ‰ªäÂæå„ÅÆ‰∫àÂÆö„Çí„Çè„Åã„Çä„ÇÑ„Åô„Åè„Åæ„Å®„ÇÅ„ÅüÂ†±ÂëäÊõ∏„Åß„Åô„ÄÇ
                    </div>
                    <div class="preview-status status-ready">Á∑®ÈõÜÂèØËÉΩ</div>
                </div>

                <div class="preview-card" onclick="selectDocument('service')" id="card-service">
                    <div class="preview-title">üìã „Çµ„Éº„Éì„ÇπÊèê‰æõË®òÈå≤</div>
                    <div class="preview-content">
                        ÂÆüÈöõ„Å´Êèê‰æõ„Åó„Åü„Çµ„Éº„Éì„ÇπÂÜÖÂÆπ„ÄÅÂà©Áî®ËÄÖ„ÅÆÁä∂Ê≥Å„ÄÅÁâπË®ò‰∫ãÈ†Ö„ÇíË®òÈå≤„Åó„Åæ„Åô„ÄÇ
                    </div>
                    <div class="preview-status status-draft">‰∏ãÊõ∏„Åç</div>
                </div>

                <div class="preview-card" onclick="selectDocument('assessment')" id="card-assessment">
                    <div class="preview-title">üìù „Ç¢„Çª„Çπ„É°„É≥„Éà„Ç∑„Éº„Éà</div>
                    <div class="preview-content">
                        Âà©Áî®ËÄÖ„ÅÆËÉΩÂäõ„ÇÑÁâπÊÄß„ÄÅÊîØÊè¥„ÅÆÂøÖË¶ÅÊÄß„ÇíÁ∑èÂêàÁöÑ„Å´Ë©ï‰æ°„Åó„Åü„Ç∑„Éº„Éà„Åß„Åô„ÄÇ
                    </div>
                    <div class="preview-status status-draft">‰∏ãÊõ∏„Åç</div>
                </div>
            </div>

            <div class="actions-bar">
                <button class="btn" onclick="generateAllDocuments()">üìÑ ÂÖ®„Å¶„ÅÆÂ∏≥Á•®„ÇíÁîüÊàê</button>
                <button class="btn btn-secondary" onclick="previewPDF()">üëÅÔ∏è PDF„Éó„É¨„Éì„É•„Éº</button>
                <button class="btn btn-success" onclick="downloadAll()">üì• „Åô„Åπ„Å¶„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</button>
            </div>
        </div>

        <!-- „Çø„Éñ2: ÂÄãÂà•ÊîØÊè¥Ë®àÁîªÊõ∏ -->
        <div class="tab-content" id="tab-individual">
            <div class="document-preview">
                <div class="document-header">
                    <h2 class="document-title">üë§ ÂÄãÂà•ÊîØÊè¥Ë®àÁîªÊõ∏</h2>
                    <button class="edit-toggle" onclick="toggleEdit('individual')" id="edit-btn-individual">‚úèÔ∏è Á∑®ÈõÜ„Åô„Çã</button>
                </div>

                <div class="document-form" id="form-individual">
                    <div class="form-section">
                        <h3 class="section-title">Âü∫Êú¨ÊÉÖÂ†±</h3>
                        <div class="form-row">
                            <div class="form-label">Âà©Áî®ËÄÖÂêç</div>
                            <div class="form-field readonly" contenteditable="false" id="user-name">Áî∞‰∏≠ Ëä±Â≠ê</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Âπ¥ÈΩ¢</div>
                            <div class="form-field readonly" contenteditable="false" id="user-age">28Ê≠≥</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">ÈöúÂÆ≥Á®ÆÂà•</div>
                            <div class="form-field readonly" contenteditable="false" id="disability-type">Áü•ÁöÑÈöúÂÆ≥</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">‰ΩúÊàêÊó•</div>
                            <div class="form-field readonly" contenteditable="false" id="creation-date">2024Âπ¥6Êúà27Êó•</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">ÁèæÂú®„ÅÆÁä∂Ê≥Å</h3>
                        <div class="form-row">
                            <div class="form-label">Êú¨‰∫∫„ÅÆÁä∂Ê≥Å</div>
                            <textarea class="form-field readonly" readonly id="current-situation">ÊúÄËøë„ÄÅ„Éë„ÇΩ„Ç≥„É≥„ÅÆ‰ΩúÊ•≠„ÅåÂ∞ë„Åó„Åö„Å§„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„Å¶„Åç„Åæ„Åó„Åü„ÄÇExcel„ÅÆÂü∫Êú¨ÁöÑ„Å™ÂÖ•Âäõ‰ΩúÊ•≠„ÅØÂïèÈ°å„Å™„Åè„Åß„Åç„Å¶„ÅÑ„Åæ„Åô„ÄÇ„Åü„Å†„ÄÅ„Åæ„Å†ÈõÜ‰∏≠„Åß„Åç„ÇãÊôÇÈñì„ÅåÁü≠„Åè„Å¶„ÄÅ1ÊôÇÈñì„Åè„Çâ„ÅÑ„ÅåÈôêÁïå„Åß„Åô„ÄÇ</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Êú¨‰∫∫„ÅÆÂ∏åÊúõ</div>
                            <textarea class="form-field readonly" readonly id="user-hopes">„Ç≥„É≥„Éî„É•„Éº„Çø„Éº„ÅÆ‰ΩúÊ•≠„Çí„ÇÇ„Å£„Å®‰∏äÊâã„Å´„Å™„Çä„Åü„ÅÑ„ÄÇÂ∞ÜÊù•ÁöÑ„Å´„ÅØ‰∏ÄËà¨‰ºÅÊ•≠„ÅßÂÉç„Åë„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åü„ÅÑ„Å®ÊÄù„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ</textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">ÊîØÊè¥ÁõÆÊ®ô</h3>
                        <div class="form-row">
                            <div class="form-label">Èï∑ÊúüÁõÆÊ®ôÔºà1Âπ¥Ôºâ</div>
                            <textarea class="form-field readonly" readonly id="long-term-goals">‰∏ÄËà¨‰ºÅÊ•≠„Åß„ÅÆÂ∞±Âä¥„ÇíÁõÆÊåá„Åó„ÄÅÂøÖË¶Å„Å™„Çπ„Ç≠„É´„ÇíË∫´„Å´„Å§„Åë„ÄÅÁ∂ôÁ∂ö„Åó„Å¶ÂÉç„Åë„Çã„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Áü≠ÊúüÁõÆÊ®ôÔºà3„É∂ÊúàÔºâ</div>
                            <textarea class="form-field readonly" readonly id="short-term-goals">„ÉªExcel„ÅÆÈñ¢Êï∞„Çí‰Ωø„Å£„ÅüË®àÁÆóÊ•≠Âãô„Å∏„ÅÆÊåëÊà¶
„ÉªÈõÜ‰∏≠ÊôÇÈñì„Çí1.5ÊôÇÈñì„Åæ„ÅßÂª∂Èï∑
„Éª„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Çπ„Ç≠„É´„ÅÆÂêë‰∏ä</textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">ÊîØÊè¥ÂÜÖÂÆπ</h3>
                        <div class="form-row">
                            <div class="form-label">ÂÖ∑‰ΩìÁöÑÊîØÊè¥</div>
                            <textarea class="form-field readonly" readonly id="support-content">„ÉªÈÄ±3Âõû„ÅÆ„Éë„ÇΩ„Ç≥„É≥‰ΩúÊ•≠Ë®ìÁ∑¥
„ÉªÈõÜ‰∏≠ÂäõÂêë‰∏ä„ÅÆ„Åü„ÇÅ„ÅÆÊÆµÈöéÁöÑÁ∑¥Áøí
„ÉªËÅ∑Â†¥„Åß„ÅÆ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥Á∑¥Áøí
„Éª‰ΩúÊ•≠Áí∞Â¢É„ÅÆË™øÊï¥„Å®„Çµ„Éù„Éº„Éà</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Ë©ï‰æ°ÊñπÊ≥ï</div>
                            <textarea class="form-field readonly" readonly id="evaluation-method">Êúà1Âõû„ÅÆÈù¢Ë´á„ÅßÈÄ≤Êçó„ÇíÁ¢∫Ë™ç„ÄÇ‰ΩúÊ•≠ÊôÇÈñì„ÄÅÊ≠£Á¢∫ÊÄß„ÄÅ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥ËÉΩÂäõ„ÇíÊÆµÈöéË©ï‰æ°„ÄÇ</textarea>
                        </div>
                    </div>
                </div>

                <div class="actions-bar">
                    <button class="btn" onclick="saveDocument('individual')">üíæ Â§âÊõ¥„Çí‰øùÂ≠ò</button>
                    <button class="btn btn-secondary" onclick="resetDocument('individual')">üîÑ ÂÖÉ„Å´Êàª„Åô</button>
                    <button class="btn btn-success" onclick="downloadDocument('individual')">üì• PDF„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</button>
                </div>
            </div>
        </div>

        <!-- „Çø„Éñ3: „É¢„Éã„Çø„É™„É≥„Ç∞Ë®òÈå≤ -->
        <div class="tab-content" id="tab-monitoring">
            <div class="document-preview">
                <div class="document-header">
                    <h2 class="document-title">üìä „É¢„Éã„Çø„É™„É≥„Ç∞Ë®òÈå≤</h2>
                    <button class="edit-toggle" onclick="toggleEdit('monitoring')" id="edit-btn-monitoring">‚úèÔ∏è Á∑®ÈõÜ„Åô„Çã</button>
                </div>

                <div class="document-form" id="form-monitoring">
                    <div class="form-section">
                        <h3 class="section-title">„É¢„Éã„Çø„É™„É≥„Ç∞Âü∫Êú¨ÊÉÖÂ†±</h3>
                        <div class="form-row">
                            <div class="form-label">Âà©Áî®ËÄÖÂêç</div>
                            <div class="form-field readonly" contenteditable="false">Áî∞‰∏≠ Ëä±Â≠ê</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">„É¢„Éã„Çø„É™„É≥„Ç∞ÊúüÈñì</div>
                            <div class="form-field readonly" contenteditable="false">2024Âπ¥3ÊúàÔΩû2024Âπ¥6Êúà</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">ÊãÖÂΩìËÅ∑Âì°</div>
                            <div class="form-field readonly" contenteditable="false">‰ΩêËó§ ÂÅ•Â§™</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">ÁõÆÊ®ôÈÅîÊàêÁä∂Ê≥Å</h3>
                        <div class="form-row">
                            <div class="form-label">Áü≠ÊúüÁõÆÊ®ô„ÅÆÈÅîÊàêÂ∫¶</div>
                            <textarea class="form-field readonly" readonly>„ÉªExcel„ÅÆÂü∫Êú¨Êìç‰ΩúÔºöÈÅîÊàêÔºà100%Ôºâ
„ÉªÈõÜ‰∏≠ÊôÇÈñì„ÅÆÂª∂Èï∑ÔºöÈÉ®ÂàÜÈÅîÊàêÔºà1ÊôÇÈñì‚Üí1ÊôÇÈñì30ÂàÜ„ÄÅÁõÆÊ®ô„Åæ„Åß„ÅÇ„Å®30ÂàÜÔºâ
„Éª„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥ÔºöÊîπÂñÑ‰∏≠ÔºàÁ©çÊ•µÁöÑ„Å´Ë≥™Âïè„Åß„Åç„Çã„Çà„ÅÜ„Å´„Å™„Å£„ÅüÔºâ</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">ÊîØÊè¥„ÅÆÂäπÊûú</div>
                            <textarea class="form-field readonly" readonly>„Éë„ÇΩ„Ç≥„É≥‰ΩúÊ•≠„ÅÆ„Çπ„Ç≠„É´„ÅåÂ§ßÂπÖ„Å´Âêë‰∏ä„Åó„ÄÅËá™‰ø°„ÇíÊåÅ„Å£„Å¶‰ΩúÊ•≠„Å´Âèñ„ÇäÁµÑ„ÇÅ„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇÈõÜ‰∏≠ÊôÇÈñì„ÇÇÁùÄÂÆü„Å´Âª∂Èï∑„Åï„Çå„Å¶„Åä„Çä„ÄÅÁõÆÊ®ôÈÅîÊàê„Å´Âêë„Åë„Å¶È†ÜË™ø„Å´ÈÄ≤„Çì„Åß„ÅÑ„Åæ„Åô„ÄÇ</textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">Ë™≤È°å„Å®ÂØæÂøú</h3>
                        <div class="form-row">
                            <div class="form-label">ÁèæÂú®„ÅÆË™≤È°å</div>
                            <textarea class="form-field readonly" readonly>„ÉªÈï∑ÊôÇÈñì„ÅÆÈõÜ‰∏≠„ÅåÂõ∞Èõ£ÔºàÁñ≤Âä¥„Å´„Çà„Çã‰ΩúÊ•≠ÂäπÁéá„ÅÆ‰Ωé‰∏ãÔºâ
„ÉªË§áÈõë„Å™Ë®àÁÆóÊ•≠Âãô„Å∏„ÅÆ‰∏çÂÆâ
„ÉªËÅ∑Â†¥Áí∞Â¢É„Å∏„ÅÆÈÅ©Âøú„Å´Èñ¢„Åô„ÇãÂøÉÈÖç</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Ê¨°ÊúüÊîØÊè¥ÊñπÈáù</div>
                            <textarea class="form-field readonly" readonly>„ÉªÈõÜ‰∏≠ÊôÇÈñì„ÅÆÊÆµÈöéÁöÑÂª∂Èï∑Ôºà15ÂàÜÂàª„Åø„ÅßÂ¢óÂä†Ôºâ
„ÉªExcelÈñ¢Êï∞„ÅÆÁøíÂæóÊîØÊè¥„ÇíÂº∑Âåñ
„ÉªËÅ∑Â†¥Ë¶ãÂ≠¶„ÇÑÂÆüÁøí„ÅÆÊ©ü‰ºö„ÇíÊèê‰æõ</textarea>
                        </div>
                    </div>
                </div>

                <div class="actions-bar">
                    <button class="btn" onclick="saveDocument('monitoring')">üíæ Â§âÊõ¥„Çí‰øùÂ≠ò</button>
                    <button class="btn btn-secondary" onclick="resetDocument('monitoring')">üîÑ ÂÖÉ„Å´Êàª„Åô</button>
                    <button class="btn btn-success" onclick="downloadDocument('monitoring')">üì• PDF„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</button>
                </div>
            </div>
        </div>

        <!-- „Çø„Éñ4: ÂÆ∂ÊóèÂ†±ÂëäÊõ∏ -->
        <div class="tab-content" id="tab-family">
            <div class="document-preview">
                <div class="document-header">
                    <h2 class="document-title">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ÂÆ∂ÊóèÂ†±ÂëäÊõ∏</h2>
                    <button class="edit-toggle" onclick="toggleEdit('family')" id="edit-btn-family">‚úèÔ∏è Á∑®ÈõÜ„Åô„Çã</button>
                </div>

                <div class="document-form" id="form-family">
                    <div class="form-section">
                        <h3 class="section-title">„ÅîÂÆ∂Êóè„Å∏„ÅÆÂ†±Âëä</h3>
                        <div class="form-row">
                            <div class="form-label">Âà©Áî®ËÄÖÂêç</div>
                            <div class="form-field readonly" contenteditable="false">Áî∞‰∏≠ Ëä±Â≠ê„Åï„Çì</div>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Â†±ÂëäÊúüÈñì</div>
                            <div class="form-field readonly" contenteditable="false">2024Âπ¥6Êúà</div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">‰ªäÊúà„ÅÆÊßòÂ≠ê</h3>
                        <div class="form-row">
                            <div class="form-label">ÊàêÈï∑„Å®Â§âÂåñ</div>
                            <textarea class="form-field readonly" readonly>Ëä±Â≠ê„Åï„Çì„ÅØ‰ªäÊúà„ÇÇÊÑèÊ¨≤ÁöÑ„Å´Ë®ìÁ∑¥„Å´Âèñ„ÇäÁµÑ„Åæ„Çå„Åæ„Åó„Åü„ÄÇÁâπ„Å´„Éë„ÇΩ„Ç≥„É≥‰ΩúÊ•≠„Åß„ÅØÂ§ß„Åç„Å™ÈÄ≤Ê≠©„ÅåË¶ã„Çâ„Çå„ÄÅExcel„ÅÆÂü∫Êú¨Êìç‰Ωú„ÇíÁøíÂæó„Åï„Çå„Åæ„Åó„Åü„ÄÇÈõÜ‰∏≠„Åó„Å¶‰ΩúÊ•≠„Å´Âèñ„ÇäÁµÑ„ÇÄÊôÇÈñì„ÇÇÂª∂„Å≥„Å¶„Åä„Çä„ÄÅËá™‰ø°„ÇíÊåÅ„Å£„Å¶‰ΩúÊ•≠„Åï„Çå„Å¶„ÅÑ„ÇãÊßòÂ≠ê„ÅåÂç∞Ë±°ÁöÑ„Åß„Åó„Åü„ÄÇ</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">Êó•Â∏∏ÁîüÊ¥ª„Åß„ÅÆÂ§âÂåñ</div>
                            <textarea class="form-field readonly" readonly>‰ΩúÊ•≠„Å´ÂØæ„Åô„ÇãËá™‰ø°„Åå„Å§„ÅÑ„Åü„Åì„Å®„Åß„ÄÅ‰ªñ„ÅÆÊ¥ªÂãï„Å´„ÇÇÁ©çÊ•µÁöÑ„Å´ÂèÇÂä†„Åï„Çå„Çã„Çà„ÅÜ„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇËÅ∑Âì°„ÇÑ‰ªñ„ÅÆÂà©Áî®ËÄÖ„ÅÆÊñπ„Å®„ÅÆ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÇÇÊ¥ªÁô∫„Å´„Å™„Çä„ÄÅÊòé„Çã„ÅÑË°®ÊÉÖ„ÅßÈÅé„Åî„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ</textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">Êù•Êúà„ÅÆ‰∫àÂÆö„Å®„ÅäÈ°ò„ÅÑ</h3>
                        <div class="form-row">
                            <div class="form-label">Êù•Êúà„ÅÆÊ¥ªÂãï‰∫àÂÆö</div>
                            <textarea class="form-field readonly" readonly>„ÉªExcelÈñ¢Êï∞„ÅÆÂü∫Á§éÂ≠¶Áøí
„ÉªÈõÜ‰∏≠ÊôÇÈñìÂª∂Èï∑„ÅÆ„Åü„ÇÅ„ÅÆË®ìÁ∑¥Á∂ôÁ∂ö
„ÉªËÅ∑Â†¥Ë¶ãÂ≠¶„ÅÆÂÆüÊñΩÔºà‰∫àÂÆöÔºâ
„Éª„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥Âêë‰∏ä„Éó„É≠„Ç∞„É©„É†ÂèÇÂä†</textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-label">„ÅîÂÆ∂Êóè„Å∏„ÅÆ„ÅäÈ°ò„ÅÑ</div>
                            <textarea class="form-field readonly" readonly>„ÅîÂÆ∂Â∫≠„Åß„ÇÇ„ÄÅËä±Â≠ê„Åï„Çì„ÅåÂ≠¶„Çì„Å†„Éë„ÇΩ„Ç≥„É≥„Çπ„Ç≠„É´„ÇíË§í„ÇÅ„Å¶„ÅÑ„Åü„Å†„Åç„ÄÅËá™‰ø°„ÇíÊåÅ„Å£„Å¶Âèñ„ÇäÁµÑ„ÇÅ„Çã„Çà„ÅÜÂøúÊè¥„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ„Åæ„Åü„ÄÅ‰Ωï„Åã„ÅîÂøÉÈÖç„Å™„Åì„Å®„Åå„ÅÇ„Çä„Åæ„Åó„Åü„Çâ„ÄÅ„ÅÑ„Å§„Åß„ÇÇ„ÅäÊ∞óËªΩ„Å´„ÅîÁõ∏Ë´á„Åè„Å†„Åï„ÅÑ„ÄÇ</textarea>
                        </div>
                    </div>
                </div>

                <div class="actions-bar">
                    <button class="btn" onclick="saveDocument('family')">üíæ Â§âÊõ¥„Çí‰øùÂ≠ò</button>
                    <button class="btn btn-secondary" onclick="resetDocument('family')">üîÑ ÂÖÉ„Å´Êàª„Åô</button>
                    <button class="btn btn-success" onclick="downloadDocument('family')">üì• PDF„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let hasUnsavedChanges = false;
        let editingStates = {
            individual: false,
            monitoring: false,
            family: false
        };

        // „Çø„ÉñÂàá„ÇäÊõø„Åà
        function switchTab(tabName) {
            // „Åô„Åπ„Å¶„ÅÆ„Çø„Éñ„ÇíÈùû„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            // ÈÅ∏Êäû„Åï„Çå„Åü„Çø„Éñ„Çí„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´
            event.target.classList.add('active');
            document.getElementById('tab-' + tabName).classList.add('active');

            // ÂÄãÂà•Â∏≥Á•®ÈÅ∏ÊäûÊôÇ„ÅØ„ÄÅË©≤ÂΩì„Ç´„Éº„Éâ„ÇÇ„Éè„Ç§„É©„Ç§„Éà
            if (tabName !== 'list') {
                selectDocument(tabName);
            }
        }

        // Â∏≥Á•®ÈÅ∏Êäû
        function selectDocument(docType) {
            // „Åô„Åπ„Å¶„ÅÆ„Ç´„Éº„Éâ„ÅÆÈÅ∏Êäû„ÇíËß£Èô§
            document.querySelectorAll('.preview-card').forEach(card => card.classList.remove('selected'));
            
            // ÈÅ∏Êäû„Åï„Çå„Åü„Ç´„Éº„Éâ„Çí„Éè„Ç§„É©„Ç§„Éà
            const selectedCard = document.getElementById('card-' + docType);
            if (selectedCard) {
                selectedCard.classList.add('selected');
            }

            // ÂØæÂøú„Åô„Çã„Çø„Éñ„Å´Âàá„ÇäÊõø„Åà
            if (docType !== 'service' && docType !== 'assessment') {
                switchTabProgrammatically(docType);
            }
        }

        // „Éó„É≠„Ç∞„É©„É†„Å´„Çà„Çã„Çø„ÉñÂàá„ÇäÊõø„Åà
        function switchTabProgrammatically(tabName) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

            // „Çø„Éñ„Éú„Çø„É≥„ÇíÊé¢„Åó„Å¶„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å´„Åô„Çã
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(btn => {
                if (btn.onclick && btn.onclick.toString().includes(tabName)) {
                    btn.classList.add('active');
                }
            });

            document.getElementById('tab-' + tabName).classList.add('active');
        }

        // Á∑®ÈõÜ„É¢„Éº„ÉâÂàá„ÇäÊõø„Åà
        function toggleEdit(docType) {
            const isEditing = editingStates[docType];
            const form = document.getElementById('form-' + docType);
            const button = document.getElementById('edit-btn-' + docType);
            
            if (isEditing) {
                // Á∑®ÈõÜ„É¢„Éº„ÉâÁµÇ‰∫Ü
                const fields = form.querySelectorAll('.form-field');
                fields.forEach(field => {
                    field.classList.add('readonly');
                    field.removeAttribute('contenteditable');
                    if (field.tagName === 'TEXTAREA') {
                        field.readOnly = true;
                    }
                });
                
                button.innerHTML = '‚úèÔ∏è Á∑®ÈõÜ„Åô„Çã';
                button.classList.remove('editing');
                editingStates[docType] = false;
                
            } else {
                // Á∑®ÈõÜ„É¢„Éº„ÉâÈñãÂßã
                const fields = form.querySelectorAll('.form-field:not([id$="-name"]):not([id$="-age"]):not([id$="-date"])');
                fields.forEach(field => {
                    field.classList.remove('readonly');
                    if (field.tagName === 'TEXTAREA') {
                        field.readOnly = false;
                    } else {
                        field.setAttribute('contenteditable', 'true');
                    }
                });
                
                button.innerHTML = 'üëÅÔ∏è „Éó„É¨„Éì„É•„Éº';
                button.classList.add('editing');
                editingStates[docType] = true;
            }
        }

        // Â§âÊõ¥Ê§úÁü•
        function detectChanges() {
            hasUnsavedChanges = true;
            document.getElementById('changesIndicator').classList.add('show');
        }

        // ÊñáÊõ∏‰øùÂ≠ò
        function saveDocument(docType) {
            // ‰øùÂ≠òÂá¶ÁêÜ„Çí„Ç∑„Éü„É•„É¨„Éº„Éà
            setTimeout(() => {
                hasUnsavedChanges = false;
                document.getElementById('changesIndicator').classList.remove('show');
                
                // ÊàêÂäü„É°„ÉÉ„Çª„Éº„Ç∏
                showNotification('‚úÖ ‰øùÂ≠ò„ÅåÂÆå‰∫Ü„Åó„Åæ„Åó„Åü', 'success');
            }, 1000);
        }

        // ÊñáÊõ∏„É™„Çª„ÉÉ„Éà
        function resetDocument(docType) {
            if (confirm('Â§âÊõ¥ÂÜÖÂÆπ„ÇíÁ†¥Ê£Ñ„Åó„Å¶ÂÖÉ„Å´Êàª„Åó„Åæ„Åô„ÅãÔºü')) {
                location.reload(); // Á∞°Âçò„ÅÆ„Åü„ÇÅ„Éö„Éº„Ç∏„ÇíÂÜçË™≠„ÅøËæº„Åø
            }
        }

        // ÊñáÊõ∏„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
        function downloadDocument(docType) {
            showNotification('üì• PDF„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„ÇíÈñãÂßã„Åó„Åæ„Åô', 'info');
        }

        // ÂÖ®Â∏≥Á•®ÁîüÊàê
        function generateAllDocuments() {
            showNotification('üìÑ ÂÖ®„Å¶„ÅÆÂ∏≥Á•®„ÇíÁîüÊàê‰∏≠...', 'info');
            
            // ÁîüÊàêÁä∂Ê≥Å„Çí„Ç∑„Éü„É•„É¨„Éº„Éà
            setTimeout(() => {
                const cards = document.querySelectorAll('.preview-card');
                cards.forEach(card => {
                    const status = card.querySelector('.preview-status');
                    status.textContent = 'Á∑®ÈõÜÂèØËÉΩ';
                    status.className = 'preview-status status-ready';
                });
                
                showNotification('‚úÖ ÂÖ®„Å¶„ÅÆÂ∏≥Á•®„ÅåÁîüÊàê„Åï„Çå„Åæ„Åó„Åü', 'success');
            }, 3000);
        }

        // PDF„Éó„É¨„Éì„É•„Éº
        function previewPDF() {
            showNotification('üëÅÔ∏è PDF„Éó„É¨„Éì„É•„Éº„ÇíË°®Á§∫„Åó„Åæ„Åô', 'info');
        }

        // ÂÖ®„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
        function downloadAll() {
            showNotification('üì• ÂÖ®„Å¶„ÅÆÂ∏≥Á•®„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ‰∏≠...', 'info');
        }

        // ÈÄöÁü•Ë°®Á§∫
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#d4edda' : type === 'info' ? '#d1ecf1' : '#fff3cd'};
                color: ${type === 'success' ? '#155724' : type === 'info' ? '#0c5460' : '#856404'};
                padding: 1rem 1.5rem;
                border-radius: 10px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 10000;
                font-weight: 600;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // „Ç§„Éô„É≥„Éà„É™„Çπ„Éä„ÉºË®≠ÂÆö
        document.addEventListener('DOMContentLoaded', function() {
            // Á∑®ÈõÜÂèØËÉΩ„Éï„Ç£„Éº„É´„Éâ„ÅÆÂ§âÊõ¥Ê§úÁü•
            document.querySelectorAll('.form-field').forEach(field => {
                field.addEventListener('input', detectChanges);
            });

            // „Éö„Éº„Ç∏Èõ¢ËÑ±ÊôÇ„ÅÆË≠¶Âëä
            window.addEventListener('beforeunload', function(e) {
                if (hasUnsavedChanges) {
                    e.preventDefault();
                    e.returnValue = '';
                    return '';
                }
            });
        });

        // „Çπ„Çø„Ç§„É´„Ç∑„Éº„Éà„Å´„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ËøΩÂä†
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>